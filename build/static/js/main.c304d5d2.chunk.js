(this["webpackJsonpcrud-firestore"]=this["webpackJsonpcrud-firestore"]||[]).push([[0],{56:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(26),s=(a(56),a(7)),o=a.n(s),i=a(18),u=a(13),l=a(14),d=a(27);a(75);d.a.initializeApp({apiKey:"AIzaSyCMCOSE3VKf8YEkPTkYh2MjAHSGY5MAKcQ",authDomain:"test11111-906bd.firebaseapp.com",databaseURL:"https://test11111-906bd-default-rtdb.europe-west1.firebasedatabase.app",projectId:"test11111-906bd",storageBucket:"test11111-906bd.appspot.com",messagingSenderId:"807157246123",appId:"1:807157246123:web:4c5b0e3a18841931492fee"});var b=a(2),j=function(e){var t=e.tarea,a=e.tareas,n=e.edicion,r=e.setTareas,c=e.setEdicion,s=e.setTarea,i=(e.gotToNews,e.area,t.id),l=t.name,j=function(){var e=Object(u.a)(o.a.mark((function e(t){var i,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=d.a.firestore(),e.next=4,i.collection("tareas").doc(t).delete();case 4:u=a.filter((function(e){return e.id!==t})),r(u),n.tarea&&n.tarea.id===t&&(c({editando:!1,tarea:null}),s("")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("span",{children:l}),Object(b.jsx)("button",{className:"btn btn-outline-danger btn-sm float-right",onClick:function(){return j(i)},children:"Eliminar"}),Object(b.jsx)("button",{className:"btn btn-outline-warning btn-sm float-right mr-2",onClick:function(){return function(e){c({editando:!0,tarea:e}),s(e.name,e.id)}(t)},children:"Editar"})]})},f=function(e){var t=e.tareas,a=e.edicion,n=e.setTareas,r=e.setEdicion,c=e.setTarea,s=e.gotToNews;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:"Listado de Tareas"}),Object(b.jsx)("hr",{}),Object(b.jsx)("ul",{className:"list-group",children:t.map((function(e){return Object(b.jsx)("li",{className:"list-group-item",children:Object(b.jsx)(j,{tareas:t,tarea:e,edicion:a,setTareas:n,setEdicion:r,setTarea:c,gotToNews:s})},e.id)}))})]})},p=a(51),h=function(e){var t=e.tareas,a=e.tarea,r=e.edicion,c=e.setTarea,s=e.setTareas,j=e.setEdicion,f=(e.setUrl,e.gotToNews,Object(n.useState)(null)),h=Object(l.a)(f,2),m=h[0],O=h[1],x=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,r,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a.trim()){e.next=3;break}return e.abrupt("return",O("Escriba algo por favor..."));case 3:return O(null),n={name:a.trim(),fecha:Date.now()},e.prev=5,r=d.a.firestore(),e.next=9,r.collection("tareas").add(n);case 9:u=e.sent,s((function(e){return[].concat(Object(p.a)(e),[Object(i.a)(Object(i.a)({},n),{},{id:u.id})])})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),console.error(e.t0);case 16:c("");case 18:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(u.a)(o.a.mark((function e(n){var u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),a.trim()){e.next=3;break}return e.abrupt("return",O("Escriba algo por favor..."));case 3:return O(null),e.prev=4,u=d.a.firestore(),e.next=8,u.collection("tareas").doc(r.tarea.id).update({name:a});case 8:l=t.map((function(e){return e.id===r.tarea.id?Object(i.a)(Object(i.a)({},e),{},{name:a}):e})),s(l),a,console.log(r.tarea.id),j({editando:!1,tarea:null}),c(""),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),console.error(e.t0);case 19:case 20:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h2",{children:r.editando?"Editar Tarea":"Agregar Tarea"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("form",{onSubmit:r.editando?v:x,children:[m&&Object(b.jsx)("span",{className:"text-danger",children:m}),Object(b.jsx)("input",{className:"form-control mt-1 mb-2",placeholder:"Ingrese una tarea",type:"text",value:a,onChange:function(e){return c(e.target.value)}}),Object(b.jsx)("button",{className:"btn btn-block ".concat(r.editando?"btn-warning":"btn-dark"),type:"submit",children:r.editando?"Editar":"Agregar"})]})]})},m=a(36),O=a(38),x=a.n(O),v=a(39),g=a.n(v),w=a(22),k=a.n(w),T=a(40),N=a.n(T),E=a(41),S=a.n(E),y=a(42),C=a.n(y),I=a(43),A=a.n(I),F=a(44),D=a.n(F),R=a(45),K=a.n(R),M=a(46),U=a.n(M),Y=a(47),z=a.n(Y),B=a(48),J=a.n(B),L=a(49),P=a.n(L),q={embed:x.a,table:g.a,paragraph:k.a,list:N.a,warning:S.a,linkTool:C.a,raw:A.a,header:D.a,quote:K.a,marker:U.a,checklist:z.a,delimiter:J.a,simpleImage:P.a},G=a(4);var H=function(){var e=Object(n.useState)(null),t=Object(l.a)(e,2),a=(t[0],t[1],Object(n.useState)([])),c=Object(l.a)(a,2),s=c[0],i=c[1],j=Object(G.f)(),f=function(){var e=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.current.save();case 2:console.log([]);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{x.get().then((function(e){e.exists?(i(e.data()),console.log(e.data())):console.log("No such document!")})).catch((function(e){console.log("Error getting document:",e)}))}catch(t){console.error(t)}setTimeout((function(){}),5e3);case 2:case"end":return e.stop()}}),e)})))()}),[]);var p=r.a.useRef(null),h=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("savedData"),console.log("save"),a=d.a.firestore(),e.t0=a.collection("tareas").doc(j.state.id),e.next=6,p.current.save();case 6:return e.t1=e.sent,e.next=9,e.t0.update.call(e.t0,e.t1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=d.a.firestore(),x=O.collection("tareas").doc(j.state.id),v=(O.collection("tareas").doc(j.state.id).onSnapshot((function(e){})),s.blocks);for(var g in v)console.log(g);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{children:["News ",j.state.id]}),Object(b.jsx)("button",{onClick:h,children:"Save!"}),Object(b.jsx)("button",{onClick:f,children:"Console"}),Object(b.jsx)(m.a,{instanceRef:function(e){return p.current=e},data:s.blocks,i18n:{messages:{}},tools:q}),";"]})},Q=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(""),j=Object(l.a)(s,2),p=j[0],m=j[1],O=Object(n.useState)({editando:!1,tarea:null}),x=Object(l.a)(O,2),v=x[0],g=x[1],w=Object(n.useState)(""),k=Object(l.a)(w,2),T=(k[0],k[1]),N=function(){e.history.push("/news/".concat(v.tarea.id),{id:v.tarea.id,data:"sss"})};return Object(n.useEffect)((function(){Object(u.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=d.a.firestore(),e.next=4,t.collection("tareas").get();case 4:a=e.sent,n=a.docs.map((function(e){return Object(i.a)({id:e.id},e.data())})),c(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[]),Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-12",children:[Object(b.jsx)("h1",{className:"text-center",children:"Editor React - On  Firestore "}),Object(b.jsx)("hr",{})]}),Object(b.jsxs)("div",{className:"col-md-6 mb-5 mb-md-0",children:[Object(b.jsx)(h,{tarea:p,tareas:r,edicion:v,setEdicion:g,setTareas:c,setTarea:m,setUrl:T,gotToNews:N}),Object(b.jsx)("button",{className:"btn btn-block  ".concat(v.editando?"btn-dark":"btn-warning"),type:"submit",onClick:function(){return N("".concat(v.tarea.id)),void console.log("".concat(v.tarea.id))},children:v.editando?"Editar":"Agregar"})]}),Object(b.jsx)("div",{className:"col-md-6 mt-5 mt-md-0",children:Object(b.jsx)(f,{tareas:r,edicion:v,setTareas:c,setTarea:m,setEdicion:g,gotToNews:N})})]})})},V=function(){return Object(b.jsx)("div",{children:Object(b.jsx)("h2",{children:"The Page is Not Found"})})},W=a(28),X=function(){return Object(b.jsx)(W.a,{children:Object(b.jsxs)(G.c,{children:[Object(b.jsx)(G.a,{exact:!0,path:"/",component:Q}),Object(b.jsx)(G.a,{exact:!0,path:"/news/:tareaId",component:H}),Object(b.jsx)(G.a,{component:V})]})})};Object(c.render)(Object(b.jsx)(X,{}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.c304d5d2.chunk.js.map